!function(a,b){var c=Object.prototype.constructor,d=Array.prototype.slice,e=function(a){var b,c,d,e;for(c=1,d=arguments.length;d>c;c++)if(b=arguments[c],b&&b!==a)for(e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);return a},f=function(a){var b={};if(a instanceof Array)for(var c=0,d=a.length;d>c;c++)e(b,f(a[c]));else"function"==typeof a?(e(b,a.prototype),delete b.constructor):"object"==typeof a&&e(b,a);return delete b.$super,b};b.extend=e,b.namespace=function(c,d,e){if(("string"==typeof c||c instanceof Array)&&(e=d,d=c,c=a),!(d instanceof Array)){if("string"==typeof d){for(var f=d.split("."),g=f.length,h=0;g>h;h++)c=c[f[h]]=h+1===g&&"undefined"!=typeof e?e:c[f[h]]||{};return c}throw Error('[$JS.namespace] "path" is mandatory string or Object')}for(var h=0,g=d.length;g>h;h++)b.namespace(c,d[h])},b.module=function(c,d,e,f){if("string"==typeof c&&(f=e,e=d,d=c,c=a),"string"!=typeof d)throw Error('[$JS.module] "path" is mandatory string');"undefined"==typeof f&&(f=e||{},e={});var g=b.namespace(c,d,"function"==typeof f?f():f);return"object"==typeof e&&(b.extend(g,e),g.$super=e),g.$extend=function(c,d,e){return"string"==typeof c&&(e=d,d=c,c=a),b.module(c,d,g,e)},g},b.object=function(c,e,f,g){if("string"==typeof c&&(g=f,f=e,e=c,c=a),"string"!=typeof e)throw Error('[$JS.object] "path" is mandatory string');"undefined"==typeof g?(g=f||{},f=Object.prototype):f=f||Object.prototype;var h=Object.create(f);return b.extend(h,"function"==typeof g?g():g),h.$super=f,h.$new=function(){var a=Object.create(h);return"function"==typeof a.init&&a.init.apply(a,d.call(arguments)),a},h.$extend=function(c,d,e){return"string"==typeof c&&(e=d,d=c,c=a),b.object(c,d,h,e)},b.namespace(c,e,h)},b.type=b["class"]=function(d,e,f,g,h){if("string"==typeof d&&(h=g,g=f,f=e,e=d,d=a),"string"!=typeof e)throw Error('[$JS.class] "path" is mandatory string');f&&"object"==typeof f&&(h=g,g=f,f=null);var i=g.constructor===c?function(){}:g.constructor,j=b.namespace(d,e,i);if("function"==typeof f){var k=f.prototype,l=function(){this.constructor=j};b.extend(j,f),j.$super=l.prototype=k,j.prototype=new l}return b.extend(j.prototype,g),b.extend(j,h),j.$extend=function(c,d,e,f){return"string"==typeof c&&(f=e,e=d,d=c,c=a),b["class"](c,d,j,e,f)},j},b.interface=function(c,d,e,g){if("string"==typeof c&&(g=e,e=d,d=c,c=a),"string"!=typeof d)throw Error('[$JS.interface] "path" is mandatory string');"undefined"==typeof g&&(g=e||[],e=null);var h={};return e&&"object"==typeof e&&b.extend(h,f(e)),g.forEach(function(a){h[a]=function(){throw Error("Abstract method "+a+" must be implemented.")}}),h.$extend=function(c,d,e){return"string"==typeof c&&(e=d,d=c,c=a),b.interface(c,d,h,e)},b.namespace(c,d,h)},b.define=function(d,e,g){if("string"==typeof d&&(g=e,e=d,d=a),"string"!=typeof e)throw Error('[$JS.define] "path" is mandatory string');"function"==typeof g&&(g=g()),g instanceof Array&&(g={$interface:g});var h,i,j=g.$extends||g.$prototype,k=g.$mixins||g.$implements,l=g.$interface instanceof Array?g.$interface:null,m=g.$statics,n=g.constructor&&g.constructor!==c||g.$class,o=g.$module||g.$singleton,p=g.$ondefined;return delete g.$extends,delete g.$prototype,delete g.$mixins,delete g.$implements,delete g.$statics,delete g.$class,delete g.$module,delete g.$singleton,delete g.$ondefined,delete g.$interface,h=g,k&&(h=b.extend(f(k),h),h.constructor=g.constructor),i=n?b["class"](d,e,j,h,m):o?b.module(d,e,j,h):l?b.interface(d,e,j,l):b.object(d,e,j,h),"function"==typeof p&&p(i),i}}(this,this.$JS||(this.$JS={}));